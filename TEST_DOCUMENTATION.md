# 応募者情報提出シート作成用フォーム テストドキュメント

## 概要
株式会社ナガセ応募者情報提出シート作成用フォーム（`oop.html`）のテスト仕様書です。
このフォームはオブジェクト指向設計によるバリデーション機能と学歴選択による動的表示制御機能を持ちます。

## テスト手法

### 1. ホワイトボックステスト（分岐網羅）
- **目的**: コードの全分岐パスをテストし、論理的な欠陥を発見する
- **対象**: JavaScriptによるバリデーション処理、表示制御処理
- **実施方法**: テストケースCSV（`test_cases.csv`）を使用した系統的テスト

### 2. 機能テスト
- **目的**: 要求仕様通りの動作確認
- **対象**: 入力バリデーション、表示制御、CSV出力機能
- **実施方法**: ブラウザでの手動テスト

### 3. 互換性テスト
- **目的**: 複数ブラウザでの動作確認
- **対象ブラウザ**: Chrome、Firefox、Safari、Edge
- **確認項目**: 表示レイアウト、JavaScript動作、CSV出力

## 主要テスト項目

### A. 入力バリデーション
| 項目 | テスト内容 | 期待結果 |
|------|------------|----------|
| 必須項目チェック | 必須フィールドの空欄検証 | エラーメッセージ表示 |
| フォーマット検証 | 郵便番号、電話番号、メール形式 | 正しい形式のみ受付 |
| カナ文字変換 | ひらがな→半角カタカナ自動変換 | リアルタイム変換実行 |
| 数字変換 | 全角数字→半角数字自動変換 | リアルタイム変換実行 |
| 口座名義人一致 | 氏名と口座名義人の一致確認 | 不一致時エラー表示 |

### B. 学歴による表示制御
| 学歴選択 | 大学情報セクション | 出身高校フィールド | 自動入力値 |
|----------|-------------------|-------------------|------------|
| 1.大学・大学院 | 表示 | 表示 | なし |
| 2.短大・専門 | 非表示 | 表示 | 大学情報「なし」 |
| 3.高校 | 非表示 | 表示 | 大学情報「なし」 |
| 4.中学 | 非表示 | 非表示 | 大学情報・出身高校「なし」 |

### C. 東進在籍歴チェックボックス
| テスト項目 | 確認内容 |
|------------|----------|
| 複数選択可能 | 複数チェック可能 |
| 必須選択 | 少なくとも1つ選択必須 |
| 「在籍なし」選択 | 他選択肢との組み合わせ可能 |

### D. 電話番号相互バリデーション
| パターン | 自宅電話 | 携帯電話 | 期待結果 |
|----------|----------|----------|----------|
| パターン1 | 入力あり | 入力なし | 正常 |
| パターン2 | 入力なし | 入力あり | 正常 |
| パターン3 | 入力あり | 入力あり | 正常 |
| パターン4 | 入力なし | 入力なし | エラー |

### E. 郵便番号API連携
| テスト項目 | 確認内容 |
|------------|----------|
| 住所自動入力 | 正しい郵便番号で住所が自動入力される |
| 無効な郵便番号 | エラーメッセージ表示 |
| API接続エラー | 適切なエラーハンドリング |

### F. CSV出力機能
| テスト項目 | 確認内容 |
|------------|----------|
| ファイル命名 | `YYYY/MM/DD合判_姓名_応募者情報提出シート.csv` |
| 文字エンコード | UTF-8 BOM付き |
| データ完整性 | 入力データと出力データの一致 |
| 学歴別出力 | 非表示項目は出力されない |

## テストデータ

### 1. テストケースCSV（`test_cases.csv`）
- **ファイル**: `kakomonf/test_cases.csv`
- **テストケース数**: 15件
- **カバレッジ**: 主要分岐パターン網羅

### 2. テストケース構成
| TC範囲 | 学歴パターン | 主な検証項目 |
|--------|-------------|-------------|
| TC001, TC005, TC008, TC012 | 学歴1（大学） | 大学情報入力、大学院情報の有無 |
| TC002, TC006, TC010, TC013 | 学歴2（短大） | 大学情報自動「なし」入力 |
| TC003, TC007, TC011, TC014 | 学歴3（高校） | 大学情報自動「なし」入力 |
| TC004, TC009, TC015 | 学歴4（中学） | 大学情報・出身高校自動「なし」入力 |

### 3. 特殊テストパターン
- **電話番号組み合わせ**: 自宅のみ、携帯のみ、両方
- **東進在籍歴**: 単一選択、複数選択、在籍なし
- **口座種別**: 普通預金、当座預金
- **地域バリエーション**: 全国各地の郵便番号・住所

## テスト実行手順

### 1. 事前準備
```bash
# ブラウザでHTMLファイルを開く
# テストケースCSVを準備
```

### 2. 自動テスト（推奨）
```javascript
// テストケースCSVを読み込んでフォームに自動入力
// バリデーション結果を確認
// CSV出力結果を検証
```

### 3. 手動テスト
1. テストケースCSVの各行をフォームに手動入力
2. 学歴選択時の表示制御を確認
3. バリデーションエラーの表示確認
4. 確認画面での表示内容確認
5. CSV出力とファイル内容確認

### 4. 互換性テスト
- 各ブラウザでテストケースの代表例を実行
- レスポンシブデザインの確認（スマートフォン表示）

## 既知の課題・注意事項

### 1. 技術的制約
- 郵便番号APIは外部サービス依存（ネットワーク必須）
- ブラウザのダウンロード設定により保存場所が変わる
- JavaScript無効環境では動作しない

### 2. テスト時の注意点
- IME変換中のバリデーション動作は特別処理
- 口座名義人の全角・半角スペース除去処理
- 日付フィールドのブラウザ差異

### 3. 改良提案
- 自動テスト実行スクリプトの追加
- エラーメッセージの多言語対応
- アクセシビリティ対応強化

## 関連ファイル
- `kakomonf/oop.html` - メインフォームファイル
- `kakomonf/test_cases.csv` - テストケースデータ
- `kakomonf/TEST_DOCUMENTATION.md` - 本ドキュメント

## 更新履歴
- 2024-12-XX: 初版作成（分岐網羅テスト対応） 